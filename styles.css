:root{
  --pink:#ff69b4; --magenta:#c2185b; --lav:#b39ddb; --navy:#081229; --glass: rgba(255,255,255,0.08);
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial}
body{background:linear-gradient(180deg,#0b1020 0%, #1b1436 60%);color:#fff;overflow:hidden}

canvas#starfield{position:fixed;inset:0;z-index:0}
#hearts{position:fixed;inset:0;pointer-events:none;z-index:1}

.glass-card{position:fixed;z-index:5;left:50%;top:50%;transform:translate(-50%,-50%);width:min(680px,94%);padding:28px;border-radius:16px;background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));backdrop-filter: blur(10px) saturate(120%);box-shadow:0 8px 40px rgba(0,0,0,0.6);text-align:center}
.glass-card h2{margin:6px 0 4px;font-family:'Comic Sans MS', 'Segoe UI', cursive;letter-spacing:1px}
.glass-card p.muted{opacity:.9;color:#ffe7f2;margin-bottom:18px}

form#unlockForm{display:grid;gap:12px;align-items:center}
form#unlockForm label{display:flex;flex-direction:column;text-align:left;color:#fff;font-weight:600}
form#unlockForm input{margin-top:6px;padding:10px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.08);background:rgba(255,255,255,0.03);color:#fff;outline:none}
form#unlockForm input:focus{box-shadow:0 0 18px rgba(255,105,180,0.3);border-color:var(--pink)}
.controls{display:flex;gap:12px;justify-content:center;margin-top:8px}
.accent{background:var(--pink);border:none;padding:10px 18px;border-radius:999px;color:#fff;font-weight:700;cursor:pointer}
.ghost{background:transparent;border:1px solid rgba(255,255,255,0.08);padding:10px 12px;border-radius:999px;color:#fff;cursor:pointer}

#main.hidden{display:none}

.topbar{position:relative;z-index:3;padding-top:28px;text-align:center}
.topbar h1{font-family:'Segoe UI', Tahoma, sans-serif;margin:0 0 8px;font-size:1.2rem}
.now-playing{position:absolute;right:18px;top:18px;display:flex;gap:10px;align-items:center}
.cd{width:36px;height:36px;border-radius:50%;background:linear-gradient(180deg,#fff,#ccc);box-shadow:0 6px 18px rgba(255,105,180,0.15);transform:rotate(0deg)}
.audio-controls{display:flex;align-items:center;gap:8px;flex-wrap:wrap}
.song-title{font-size:14px;font-weight:600;color:#ffe7f2;margin-bottom:6px;min-height:1.2em}
.rocker-btn{background:rgba(255,255,255,0.12);border:1px solid rgba(255,255,255,0.2);padding:6px 10px;border-radius:8px;color:#fff;font-size:16px;cursor:pointer;line-height:1}
.rocker-btn:hover{background:rgba(255,105,180,0.3);border-color:var(--pink)}
.play-btn{background:var(--pink);border:none;padding:6px 12px;border-radius:10px;color:#111;font-weight:700;cursor:pointer}

.carousel-wrap{position:relative;z-index:3;display:flex;align-items:center;justify-content:center;padding:32px 12px}
.carousel{width:min(900px,94%);height:min(60vh,540px);position:relative;perspective:1200px}
.slide{position:absolute;inset:0;border-radius:14px;overflow:hidden;transform-origin:center center;display:flex;align-items:end;justify-content:center;padding:18px}
.slide img{width:100%;height:100%;object-fit:cover;display:block;transform:scale(1);transition:transform .8s cubic-bezier(.2,.8,.2,1)}
.slide figcaption{position:absolute;left:18px;bottom:18px;background:rgba(255,255,255,0.06);backdrop-filter:blur(6px);padding:10px 12px;border-radius:8px}
.slide .caption{color:#fff;font-weight:700}

.nav{position:relative;z-index:6;background:transparent;border:none;color:#fff;font-size:20px;padding:8px 12px;cursor:pointer}
.nav.left{margin-right:12px}
.nav.right{margin-left:12px}

.dots{display:flex;gap:8px;justify-content:center;padding-bottom:18px}
.dots button{width:10px;height:10px;border-radius:50%;border:none;background:rgba(255,255,255,0.18);cursor:pointer}
.dots button.active{background:var(--pink);box-shadow:0 4px 12px rgba(255,105,180,0.18)}

.extras{display:flex;gap:18px;justify-content:center;padding:12px 0;color:#fff}

.footer{padding:22px 0 60px;text-align:center;opacity:.9}

.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:40}
.modal.hidden{display:none}
.modal-inner{width:min(760px,94%);padding:22px;border-radius:14px}
.close{position:absolute;right:12px;top:12px;border:none;background:transparent;color:#fff;font-size:18px;cursor:pointer}

/* floating cursor glow */
body::after{content:'';position:fixed;left:0;top:0;width:200px;height:200px;background:radial-gradient(circle, rgba(255,105,180,0.12), transparent 40%);pointer-events:none;mix-blend-mode:screen;transform:translate(-50%,-50%);z-index:2}

@media (max-width:700px){
  .glass-card{width:96%;padding:18px}
  .now-playing{display:none}
  .carousel{height:48vh}
}

/* subtle floating heart styles (generated by JS) */
.heart{position:fixed;pointer-events:none;width:14px;height:14px;background:var(--pink);transform:rotate(-45deg);border-radius:3px;opacity:.9;z-index:2}
.heart::before,.heart::after{content:'';position:absolute;background:var(--pink);width:14px;height:14px;border-radius:50%}
.heart::before{top:-7px;left:0}
.heart::after{left:7px;top:0}

/* Add Photo Button */
.add-photo-btn-wrap{text-align:center;padding:12px 0;position:relative;z-index:10}
.add-photo-btn{background:var(--pink);border:none;padding:12px 20px;border-radius:10px;color:#fff;font-weight:700;cursor:pointer;box-shadow:0 4px 12px rgba(255,105,180,0.4);opacity:1;display:inline-block;font-size:16px}
.add-photo-btn:hover{background:#ff1493;box-shadow:0 6px 18px rgba(255,105,180,0.6);transform:scale(1.05)}
.add-photo-btn:active{transform:scale(0.98)}

/* Add Photo modal: solid background (not transparent) */
#uploadModal .modal-inner.glass-card{
  background:linear-gradient(180deg, #1a1538 0%, #0f0d24 100%);
  backdrop-filter:none;
  border:1px solid rgba(255,255,255,0.12);
}

/* Upload Form */
#uploadForm{display:grid;gap:12px;max-width:100%}
#uploadForm label{display:flex;flex-direction:column;text-align:left;color:#fff;font-weight:600;font-size:14px}
#uploadForm input[type="text"],#uploadForm input[type="password"],#uploadForm input[type="file"]{margin-top:6px;padding:10px 12px;border-radius:8px;border:1px solid rgba(255,255,255,0.1);background:rgba(255,255,255,0.02);color:#fff;outline:none}
#uploadForm input[type="file"]::file-selector-button{background:var(--pink);border:none;padding:8px 12px;border-radius:6px;color:#fff;cursor:pointer;font-weight:700}
#uploadForm button{background:var(--pink);border:none;padding:10px 16px;border-radius:10px;color:#fff;font-weight:700;cursor:pointer;margin-top:6px}

/* small accessibility focus */
button:focus,input:focus{outline:2px solid rgba(255,105,180,0.2);outline-offset:2px}

/* Timeline */
.timeline{padding:32px 18px;text-align:center;color:#fff}
.timeline h2{margin:0 0 12px;font-size:1.2rem}
.timeline ol{list-style:none;padding:0;max-width:900px;margin:0 auto;display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}
.timeline li{background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));padding:12px;border-radius:10px;backdrop-filter:blur(6px);text-align:left}
.timeline li .date{font-weight:700;color:var(--lav);margin-bottom:6px}

/* Polaroid scattered memory */
.polaroids{position:relative;padding:30px 0;min-height:240px}
.polaroid{position:absolute;width:160px;height:160px;background:#fff;border-radius:6px;padding:8px;box-shadow:0 10px 30px rgba(2,2,10,0.6);transform-origin:center center;cursor:pointer}
.polaroid img{width:100%;height:100%;object-fit:cover;border-radius:4px}
.polaroid .label{position:absolute;left:8px;bottom:8px;background:rgba(0,0,0,0.5);color:#fff;padding:4px 8px;border-radius:6px;font-size:12px}

@media (max-width:700px){
  .polaroid{width:120px;height:120px}
}
